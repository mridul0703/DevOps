# Module 5: Prepare Ansible Inventory from Terraform Output

## Overview
This module teaches you how to extract the public IP generated by Terraform and use it to build a functional **Ansible inventory**.  
This prepares your environment for remote configuration of the Azure VM deployed in Module 4.

---

## ðŸ“¤ Step 1: Read VM Public IP from Terraform

Run the following command inside your Terraform project directory:

```bash
VM_IP=$(terraform output -raw vm_public_ip)
echo $VM_IP
```

You should see the public IP of your Azure VM.

------------------------------------------------------------------------

## ðŸ“‡ Step 2: Create Ansible Inventory

Create a file named hosts.ini:

```bash
[web]
${VM_IP} ansible_user=azureuser ansible_private_key_file=~/.ssh/id_rsa_azure ansible_python_interpreter=/usr/bin/python3
```

To generate this file automatically:

```bash
echo "[web]" > hosts.ini
echo "$VM_IP ansible_user=azureuser ansible_private_key_file=~/.ssh/id_rsa_azure ansible_python_interpreter=/usr/bin/python3" >> hosts.ini
```
------------------------------------------------------------------------

## ðŸ§ª Step 3: Test SSH Access
```bash
ssh -i ~/.ssh/id_rsa_azure azureuser@$VM_IP
```

If successful, you are ready for Ansible automation.

------------------------------------------------------------------------

## ðŸŽ¯ Step 4: Validate Ansible Inventory

Ping the VM using Ansible:

```bash
ansible -i hosts.ini web -m ping
```

Expected output:

```bash
web | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
```

------------------------------------------------------------------------

## Hands-on Projects
### âœ” Test SSH connectivity manually
### âœ” Validate Ansible inventory using ansible -m ping
### âœ” Automate hosts.ini creation from Terraform output

------------------------------------------------------------------------
